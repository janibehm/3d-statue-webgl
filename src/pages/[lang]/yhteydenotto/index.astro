---
import Layout from "../../../layouts/Layout.astro";
import ContactForm from "@/components/react/ContactForm";

export async function getStaticPaths() {
  return [
    { params: { lang: "en", slug: "contact" } },
    { params: { lang: "fi", slug: "yhteydenotto" } },
  ];
}

const { lang } = Astro.params;

// Instead of redirecting, handle 404 for unsupported languages
if (!["en", "fi"].includes(lang)) {
  return new Response(null, {
    status: 404,
    statusText: "Not found",
  });
}

// Load translations
const translations = await import(`../../../i18n/form/${lang}.json`);
---

<Layout title={lang}>
  <ContactForm client:load initialLang={lang} translations={translations.default} />
</Layout>
