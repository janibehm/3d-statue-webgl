---
import { getLangFromUrl, useTranslations } from "../../i18n/utils";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const pathNames = {
  home: { fi: "/", en: "/en" },
  services: { fi: "palvelut", en: "services" },
  about: { fi: "meistä", en: "about" },
  contact: { fi: "yhteydenotto", en: "contact" },
} as const;

// Add the same navigation items structure
const navItems = [
  {
    key: "footer.company.home",
    path: lang === "fi" ? "/" : `/${lang}`,
  },
  {
    key: "footer.company.services",
    path: lang === "fi" ? "/palvelut" : `/${lang}/${pathNames.services[lang]}`,
  },
  {
    key: "footer.company.aboutUs",
    path: lang === "fi" ? "/meistä" : `/${lang}/${pathNames.about[lang]}`,
  },
  {
    key: "footer.company.contact",
    path: lang === "fi" ? "/yhteydenotto" : `/${lang}/${pathNames.contact[lang]}`,
  },
] as const;
---

<footer class="w-full min-h-[260px] text-white pt-10 bg-black/95">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div
      class="grid grid-cols-1 gap-8 text-center
                sm:grid-cols-2
                lg:grid-cols-4 lg:text-left"
    >
      {/* Company Info */}
      <div class="flex flex-col items-center lg:items-start px-4">
        <h3 class="text-lg font-bold mb-4 text-center lg:text-left w-full px-2">
          {t("footer.company.title")}
        </h3>
        <ul class="space-y-2 text-center lg:text-left w-full">
          {
            navItems.map((item) => (
              <li class="px-2">
                <a href={item.path} class="hover:text-gray-300">
                  {t(item.key)}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      {/* Legal */}
      <div class="flex flex-col items-center lg:items-start px-4">
        <h3 class="text-lg font-bold mb-4 text-center lg:text-left w-full">
          {t("footer.legal.title")}
        </h3>
        <ul class="space-y-2 text-center lg:text-left w-full">
          <li>
            <a href="/kayttoehdot" class="hover:text-gray-300">{t("footer.legal.termsOfService")}</a
            >
          </li>
          <li>
            <a href="/tietosuoja" class="hover:text-gray-300">{t("footer.legal.privacyPolicy")}</a>
          </li>
          <li>
            <a href="/sopimusehdot" class="hover:text-gray-300"
              >{t("footer.legal.agreementTerms")}</a
            >
          </li>
          <li>
            <a href="/evasteet" class="hover:text-gray-300">{t("footer.legal.cookies")}</a>
          </li>
        </ul>
      </div>

      {/* Locations Combined Container */}
      <div class="sm:col-span-2 lg:col-span-2">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-8">
          {/* Locations Part 1 */}
          <div class="flex flex-col items-center lg:items-start px-4">
            <h3 class="text-lg font-bold mb-4 text-center lg:text-left w-full">
              {t("footer.locations.title")}
            </h3>
            <ul class="space-y-2 text-center lg:text-left w-full">
              <li>
                <a href="/kotisivut-espoo" class="hover:text-gray-300"
                  >{t("footer.locations.espoo")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-helsinki" class="hover:text-gray-300"
                  >{t("footer.locations.helsinki")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-hameenlinna" class="hover:text-gray-300"
                  >{t("footer.locations.hameenlinna")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-joensuu" class="hover:text-gray-300"
                  >{t("footer.locations.joensuu")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-jyvaskyla" class="hover:text-gray-300"
                  >{t("footer.locations.jyvaskyla")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-kirkkonummi" class="hover:text-gray-300"
                  >{t("footer.locations.kirkkonummi")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-kuopio" class="hover:text-gray-300"
                  >{t("footer.locations.kuopio")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-lahti" class="hover:text-gray-300"
                  >{t("footer.locations.lahti")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-lappeenranta" class="hover:text-gray-300"
                  >{t("footer.locations.lappeenranta")}</a
                >
              </li>
            </ul>
          </div>

          {/* Locations Part 2 */}
          <div class="flex flex-col items-center lg:items-start px-4">
            <ul class="space-y-2 text-center lg:text-left w-full">
              <li>
                <a href="/kotisivut-mikkeli" class="hover:text-gray-300"
                  >{t("footer.locations.mikkeli")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-oulu" class="hover:text-gray-300"
                  >{t("footer.locations.oulu")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-rovaniemi" class="hover:text-gray-300"
                  >{t("footer.locations.rovaniemi")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-savonlinna" class="hover:text-gray-300"
                  >{t("footer.locations.savonlinna")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-seinajoki" class="hover:text-gray-300"
                  >{t("footer.locations.seinajoki")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-tampere" class="hover:text-gray-300"
                  >{t("footer.locations.tampere")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-turku" class="hover:text-gray-300"
                  >{t("footer.locations.turku")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-vaasa" class="hover:text-gray-300"
                  >{t("footer.locations.vaasa")}</a
                >
              </li>
              <li>
                <a href="/kotisivut-vantaa" class="hover:text-gray-300"
                  >{t("footer.locations.vantaa")}</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    {/* Bottom Bar */}
    <div class="border-t border-gray-700 mt-8 pt-8">
      <div
        class="flex flex-col items-center text-center lg:flex-row lg:justify-between lg:text-left"
      >
        <p class="text-sm text-gray-400 mb-4 lg:mb-0 pb-8">
          {t("footer.bottomBar.copyright")}
        </p>
      </div>
    </div>
  </div>
</footer>
